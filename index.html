<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Luffy's Jumping Game</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <script src="back.js"></script>

    <div class="container">
      <div class="game-container">
        <div id="game-insights">
          <!-- <p>Username: <span id="name"></span></p> -->
          <p><span id="score">Score: 0</span></p>
          <span class="lives">
            <img id = "L1" src="heart.png" alt="heart" width="40" height="40" hidden>
            <img id = "L2" src="heart.png" alt="heart" width="40" height="40" hidden>
            <img id = "L3" src="heart.png" alt="heart" width="40" height="40" hidden>
          </span>
<!--p style="font-size: 45px; color: red;">&#10084;&#10084;&#10084;</p-->
<!-- implementare funzione che li printa e fa il get con async con diminuzione ed incremento in caso di pagamento -->
        </div>
        <div class="background" id="background"></div>
        <img id="luffy" src="luffy_run_render.gif" alt="Luffy" />
      </div>

      <div class="start-game">
        <form action="" id="game-form">
          <div class="flex">
            <label for="username">Username:</label>
            <input
              type="text"
              id="username"
              placeholder="Enter your username"
              required
            />
          </div>
          <div class="btns">
            <button id="start" type="button" onclick="makePayment()" cursor>Start Game</button>
            <button id="mint" type="button" disabled onclick="keygen()" cursor>Mint your score!</button>
            <button id="restart" type="button" disabled cursor>Restart Game</button>
          </div>
          <!-- da sismtemare tabella con css corretti-->
          <div>
          <p></p>
          <table class="mainTable">
          <tr>
          <th>
<table id="rankTable" class="rankTable">
  <thead>
    <tr>
      <th>Highest</th>
      <th>Score!</th>
    </tr>
  </thead>
  <tbody id="tableBody">
  </tbody>
</table>
</th>

<th>

<h1>How to play?
</h1>
<p>
Playing this game is simple, just use the space bar!
By clicking on Start game a payment will be made using metamask <br> which will allow you to receive 3 lives which you can use to get the highest score! <br>If you get tired you can also pause and resume whenever you want!</p>
</th>
<th>


<tr>
  <script src="DataBase.js"></script>
<script>
      document.addEventListener('DOMContentLoaded', ottieniDati);

  const data = [];

  const table = document.getElementById('rankTable');
  let row, cell, colCounter = 0;

  for (let i = 0; i < data.length; i++) {
    if (colCounter === 0) {
      row = table.insertRow();
    }

    cell = row.insertCell();
    const entryParts = data[i]
    //aggiungere check sulk'input dell'username e mettere al massimo 8 caratteri o 10
    cell.textContent = entryParts // Display the number as the rank

    colCounter++;
    if (colCounter === 5) {
      colCounter = 0;
    }
  }

</script>
          </div>
        </form>
      </div>
    </div>
      <script src="https://cdn.jsdelivr.net/npm/web3@1.6.0/dist/web3.min.js"></script>
    <script src="app.js"></script>

  </body>
</html>
